---
slug: "231128-1"
title: "Medium Digest #1"
description: ""
summary: ""
date: 2023-11-28T00:00:00+09:00
lastmod: 2023-11-28T00:00:00+09:00
draft: false
weight: 50
images: []
categories: ["Think & Review"]
tags: ["Python"]
contributors: ["LHU"]
pinned: false
homepage: false
---

---

Medium을 자주 보지는 않습니다만, 최신 게시글 중 흥미로운 글이 하나 있어 가져왔습니다.

[원글: Why I avoid async Python when I can (Medium)][medium]

<br>

#### 요약

제목부터 **Why I avoid async Python when I can** 이듯이, 글쓴이는 Python에서 가능하면 비동기 프로그래밍을 피한다고 서술하고 있습니다. 이와 함께 제시한 이유는 다음과 같습니다.

1. Python의 `async` 함수 내에서 blocking 함수를 호출하면, 프로그램 전체를 blocking시키는 결과를 초래할 수도 있습니다. 문제는 Python의 많은 함수들이 blocking call이기 때문에 이런 상황이 일어나기 쉽다는 점입니다. FastAPI의 `async` 함수, 네트워크/DB 작업, 간단한 파일 I/O 작업에서도 이런 상황이 발생할 수 있습니다.
2. 비동기 프로그래밍의 러닝 커브가 높은 편입니다.
3. CPU-bound 작업의 경우 오히려 동기 함수보다도 성능이 떨어질 수 있습니다. 이는 Python의 GIL과 관련되어 있습니다. ([관련 영상][ref1])
4. Python은 애초에 비동기를 고려해 만들어진 언어가 아닙니다. 그래서 Golang처럼 비동기를 고려해 만들어진 언어에 비해 생태계나 라이브러리의 한계가 있을 수 있습니다.
5. 에러 로깅과 디버깅 과정이 복잡해집니다.

여기서 오해하면 안 되는 것이, **Python의 비동기 프로그래밍으로 해결할 수 없는 게 있거나 비동기 프로그래밍을 하지 말라는 것이 아닙니다.** 글의 도입부에서도 간단한 예제로 비동기 함수가 blocking call에 막히는 현상과 이를 해결하는 과정을 서술하고 있고, 코드를 잘 구성한다면 Python에서도 준수한 퍼포먼스를 내는 것이 가능할 것입니다.

<br>

#### 개인적인 생각

일부 명제에 대해서는 반박의 여지가 있을 수도 있습니다. 비동기 프로그래밍의 러닝 커브를 크게 신경쓰지 않는 사람이 있을 수도 있고 (물론 저는 아닙니다...) GIL의 경우 Python에서 개선의 움직임을 보이고 있어 미래에는 해결이 될 수도 있습니다.  
제가 크게 공감하는 부분은 위 내용 중 1번과 4번 항목입니다. 저는 프로그래밍 언어의 역사에 대해 관심이 크게 없는 편인데, 그래도 Python은 개발자가 많은 것을 고려하지 않고 만들었는데 생각보다 반응이 너무 좋아 지금의 생태계를 형성했다는 이야기를 많이 들었습니다. 비동기 프로그래밍도 그 당시 고려하지 않았던 옵션 중 하나일 것입니다. 그래서 **상대적으로 늦게 발달한 비동기 관련 생태계, 그리고 언어 자체가 비동기를 고려하지 않았기 때문에 "무심코" 튀어나오는 동기 함수가 방해 요소가 될 수 있습니다.** 이것만으로도 Python 비동기 프로그래밍을 주저하게 만드는 요소는 충분하다고 생각합니다.  
이렇게 생각하게 된 것은 몇몇 프로젝트를 하면서 비슷한 케이스를 보아서인 것도 있습니다. 예를 들어 머신러닝이나 데이터 처리, AI 관련 프로젝트를 할 때 가장 생태계가 잘 형성되어 있는 언어는 Python입니다. 그런데 이것을 Java로 하려고 한다면...? 불가능하다는 이야기는 아닙니다. 다만, Python을 절대 쓸 수 없는 환경이 아닌 이상 Python을 두고 Java를 쓰는 것은 먼 길을 돌아간다는 느낌을 지울 수 없습니다. 첫 프로젝트가 그런 느낌이었습니다.  
비동기 프로그래밍도 마찬가지입니다. **Python으로 비동기 프로그래밍은 불가능이 아닙니다. 하지만 Golang을 필두로 하여 Python보다 비동기 프로그래밍에 적합한 언어들이 버젓이 있는데, 돌아가는 느낌이 들 수 있다는 것입니다.**

물론 현실과 타협해야 하는 문제이기도 합니다. 제가 진행했던 프로젝트들에서 Java로 진행된 프로젝트가 많았던 것은 결국 대한민국에서 Java를 많이 쓰기 때문인 경우가 많았습니다. 개발만 하고 끝이 아니라 유지보수도 누군가 해야 하기 때문에, 내가 Python으로 개발을 할 수 있다고 해도 고객이 껄끄러워 하는 경우가 많습니다. Go도 저는 정말 좋은 언어라고 생각하고 공부도 했었지만, Go를 요구하는 곳은 Python보다도 더 적습니다...  
그래도 저는 이러한 이유를 대며 안 맞는 옷을 억지로 입는 것은 바람직하지 않다고 생각하고 있습니다. 위에서 말한 것들을 예시로 들면 비동기 프로그래밍은 Golang 등 비동기에 맞추어 설계된 언어로, AI/머신러닝은 라이브러리가 풍부한 Python을 사용하는 것이 베스트입니다. 그래서 개인적으로 코딩을 할 때 과정이 필요 이상으로 험난하다고 판단되면, 그 부분에 대해서 깊이 파고들지 않는 편입니다. 적합한 언어나 도구가 있다면 그것을 배우는 편이 더 낫다 생각하기 때문입니다.

이렇게 적었지만 저도 언어나 Tool들을 체험은 많이 해 보았어도, "그 특성과 장점을 활용해서" 프로젝트를 구축한 경험은 많지 않습니다. 제 역량 문제일 수도 있고, 전체적으로 저런 case에 해당하는 일이 적어서인 것도 있는 것 같은데 아쉬운 부분이긴 합니다. 저는 특히 기회가 된다면 Golang을 제대로 한 번 써 보고 싶네요.

[ref1]: https://youtu.be/Obt-vMVdM8s?si=7B-SW8JnjjkRVNJ6
[medium]: https://oscar-evertsson.medium.com/why-i-avoid-async-python-when-i-can-dfa383a2125c
